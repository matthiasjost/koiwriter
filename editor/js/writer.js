function getNewDocumentName(){var a=0;objDate=new Date();a=objDate.getTime();name="koi-"+a;return name}function strStartsWith(a,b){return a.indexOf(b)===0}function WD_getNumKoiDocuments(){var b=0;var a=localStorage.length;for(i=0;i<a;i++){key=localStorage.key(i);if(strStartsWith(key,"koi-")){b++}}return b}function WD_getKoiDocumentName(b){var a=localStorage.length;var e=0;var d=0;var c=0;for(d=0;d<a;d++){c=localStorage.key(d);if(strStartsWith(c,"koi-")){e++;if((e-1)==b){break}}}return c}function WD_getKoiDocumentSnippet(f){var e=localStorage.length;var b=0;var g=0;var j=0;var d="";var h="";var a=0;var c=0;for(g=0;g<e;g++){j=localStorage.key(g);if(strStartsWith(j,"koi-")){b++;if((b-1)==f){d=loadFromLocalStroage(j);break}}}a=d.lastIndexOf("<body>");a+=6;c=d.lastIndexOf("</body>");h=d.slice(a,c);return h}function WD_saveCurrentDocument(a,b){saveInLocalStorage(a,b)}function WD_loadDocument(a){return loadFromLocalStroage(a)}function loadFromLocalStroage(a){return localStorage.getItem(a)}var Setting_BG_KeyName="setting-bg";function WD_saveBackgroundSetting(a){if(isLocalStorageAvailable()==false){return}saveInLocalStorage(Setting_BG_KeyName,a)}function WD_loadBackgroundSetting(){if(isLocalStorageAvailable()==false){return 0}var a=loadFromLocalStroage(Setting_BG_KeyName);if(a!=null){return parseInt(a)}else{return 0}}var Setting_Size_KeyName="setting-size";function WD_saveSizeSetting(a){if(isLocalStorageAvailable()==false){return}saveInLocalStorage(Setting_Size_KeyName,a)}function WD_loadSizeSetting(){if(isLocalStorageAvailable()==false){return 0}var a=loadFromLocalStroage(Setting_Size_KeyName);if(a!=null){return parseInt(a)}else{return 0}}function saveInLocalStorage(a,b){if(isLocalStorageAvailable()==false){return}localStorage.setItem(a,b)}function isLocalStorageAvailable(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}};var g_CKEditor;var g_CKEditorIsReady=false;var g_CKShowSource=false;var g_CKEditorSettings={WidthIndex:0,BackgroundIndex:0};var g_CKEditorConfig={fullPage:true,skin:"koi",toolbar:[]};var g_FontSizeSearchPattern=/body.font-size: .+?}/;var g_FontFamilySearchPattern=/@import url(.+?);.body.font-family: .+?}/;var g_DefaultFontSize=5;var g_FSizeHandle;var g_CurrentDocumentName="";var g_FontSizeSnippets=["body{font-size: 8pt;}","body{font-size: 9pt;}","body{font-size: 10pt;}","body{font-size: 11pt;}","body{font-size: 12pt;}","body{font-size: 13pt;}","body{font-size: 14pt;}","body{font-size: 15pt;}","body{font-size: 16pt;}","body{font-size: 17pt;}"];var g_FontSizeMin=1;var g_FontSizeMax=10;function execEditorCommand(a,b){g_CKEditor.execCommand(a,b)}function format(a){execEditorCommand(a,"")}function setHeading(a){var c="p";g_CKEditor.fire("saveSnapshot");switch(a){case 0:c="p";break;case 1:c="h1";break;case 2:c="h2";break;case 3:c="h3";break;default:c="h1";break}var b=new CKEDITOR.style({element:c,overrides:[{element:"p",element:"h1",element:"h2",element:"h3"}]});b.apply(g_CKEditor.document);g_CKEditor.fire("saveSnapshot")}$("#FormatP").click(function(){setHeading(0)});$("#FormatHeading1").click(function(){setHeading(1)});$("#FormatHeading2").click(function(){setHeading(2)});$("#FormatHeading3").click(function(){setHeading(3)});function applyToStyleSection(c,a){var b=$("#cke_editor iframe").contents().find("style").html();if(b.match(/.KoiWriter_addNewStylesHere{}/)){if(b.match(c)){b=b.replace(c,a)}else{b=b.replace(/.KoiWriter_addNewStylesHere{}/,a+"\n				.KoiWriter_addNewStylesHere{}\n")}$("#cke_editor iframe").contents().find("style").html(b)}}function initCurrentFontSizeAsynch(){g_FSizeHandle=setInterval("refreshCurrentFontSize()",1000)}function refreshCurrentFontSize(){var a=getCurrentFontSize();if(a!=-1){$("#FontSizeCurrent").text(a);clearInterval(g_FSizeHandle)}}function getCurrentFontSize(){var c=g_FontSizeSnippets.length;var a=0;var b="";var d="";d=$("#cke_editor iframe").contents().find("style").html();if(d==""){return -1}if(d.match(/.KoiWriter_addNewStylesHere{}/)){b=d.match(g_FontSizeSearchPattern);if(b!=null){for(a=0;a<c;a++){if(g_FontSizeSnippets[a]==b){return a+1}}return g_DefaultFontSize}else{return g_DefaultFontSize}}else{return g_DefaultFontSize}}$("#FontSizeIncrement").click(function(){var a=g_DefaultFontSize;var b=getCurrentFontSize();a=b+1;if(a>g_FontSizeMax){a=g_FontSizeMax}if(a<g_FontSizeMin){a=g_FontSizeMin}applyToStyleSection(g_FontSizeSearchPattern,g_FontSizeSnippets[a-1]);$("#FontSizeCurrent").text(a)});$("#FontSizeDecrement").click(function(){var a=g_DefaultFontSize;var b=getCurrentFontSize();a=b-1;if(a>g_FontSizeMax){a=g_FontSizeMax}if(a<g_FontSizeMin){a=g_FontSizeMin}applyToStyleSection(g_FontSizeSearchPattern,g_FontSizeSnippets[a-1]);$("#FontSizeCurrent").text(a)});function applySourceFormatSettings(){g_CKEditor.dataProcessor.writer.setRules("html",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("head",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("title",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("style",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("body",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("p",{indent:false,breakBeforeOpen:true,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("h1",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});g_CKEditor.dataProcessor.writer.setRules("h2",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true});
g_CKEditor.dataProcessor.writer.setRules("h3",{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true})}function updateStatistics(){}function WL_setEditorBackground(a){switch(a){case 0:$("body").css("background-image","url(images/bg/1-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.2)");break;case 1:$("body").css("background-image","url(images/bg/2-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.2)");break;case 2:$("body").css("background-image","url(images/bg/3-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.2)");break;case 3:$("body").css("background-image","url(images/bg/4-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.4)");break;case 4:$("body").css("background-image","url(images/bg/5-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.7)");break;case 5:$("body").css("background-image","url(images/bg/6-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.3)");break;case 6:$("body").css("background-image","url(images/bg/7-full.jpg)");$("#editor-wrapper").css("background-color","rgba(255,255,255,0.58)");break;default:g_CKEditor.resize(600,500)}g_CKEditorSettings.BackgroundIndex=a;WD_saveBackgroundSetting(g_CKEditorSettings.BackgroundIndex)}function WL_setEditorSize(a){switch(a){case 0:g_CKEditor.resize(500,500);break;case 1:g_CKEditor.resize(600,500);break;case 2:g_CKEditor.resize(800,500);break;default:g_CKEditor.resize(600,500)}g_CKEditorSettings.WidthIndex=a;WD_saveSizeSetting(g_CKEditorSettings.WidthIndex)}function initEditorSettings(){}function ckeditorReady(){var b=getNewDocumentName();setCurrentDocumentName(b);g_CKEditor=$("#editor").ckeditorGet();applySourceFormatSettings();g_CKEditor.setData('<html>		<head>		<title></title>        <link rel="stylesheet" href="css/edithtml.css">		<style type="text/css">        @import url(\'http://fonts.googleapis.com/css?family=Droid+Serif:regular,italic,bold,bolditalic\'); body{font-family: \'Droid Serif\', arial, serif;}        body{font-size: 12pt;}		.KoiWriter_addNewStylesHere{}/*Do not delete or modify .KoiWriter_addNewStylesHere*/</style>		</head>		<body>		<h1>Koi</h1><p>Der Nishikigoi (jap. &#37670;&#39881;, w&ouml;rtlich &bdquo;Brokatkarpfen&ldquo;), kurz auch Koi genannt, ist eine Zuchtform des Karpfens (Cyprinus carpio). Koi oder in Zusammensetzungen auch -goi ist einfach das japanische Wort f&uuml;r Karpfen allgemein.<p>		</body>		</html>',function(){this.checkDirty()});g_CKEditor.focus();g_CKEditorIsReady=true;setInterval("selectedMenuOpenIfSelected()",1000);jQuery(document).bind("keydown","Ctrl+c",function(d){c();return false});$("#cke_editor iframe").contents().find("html").css("overflow","hidden");var a=WD_loadSizeSetting();WL_setEditorSize(a);$("#EditorSmallWidth").click(function(){WL_setEditorSize(0)});$("#EditorMediumWidth").click(function(){WL_setEditorSize(1)});$("#EditorLargeWidth").click(function(){WL_setEditorSize(2)});$("#FontButtonAnonymousPro").click(function(){applyToStyleSection(g_FontFamilySearchPattern,"@import url('http://fonts.googleapis.com/css?family=Anonymous+Pro:regular,italic,bold,bolditalic'); body{font-family: 'Anonymous Pro', arial, serif;}")});$("#FontButtonDroidSerif").click(function(){applyToStyleSection(g_FontFamilySearchPattern,"@import url('http://fonts.googleapis.com/css?family=Droid+Serif:regular,italic,bold,bolditalic'); body{font-family: 'Droid Serif', arial, serif;}")});$("#FontButtonNobile").click(function(){applyToStyleSection(g_FontFamilySearchPattern,"@import url('http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic'); body{font-family: 'Nobile', arial, serif;}")});$("#FormatRegular").click(function(){format("removeFormat")});$("#FormatItalic").click(function(){format("italic")});$("#FormatBold").click(function(d){execEditorCommand("MediaEmbed","");format("bold")});$("#FormatBoldItalic").click(function(){format("bold");
format("italic")});$("#FormatUnderline").click(function(){format("underline")});$("#JustifyLeftButton").click(function(){format("justifyleft")});$("#JustifyCenterButton").click(function(){format("justifycenter")});$("#JustifyRightButton").click(function(){format("justifyright")});$("#JustifyBlockButton").click(function(){format("justifyblock")});$("#BulletedListButton").click(function(){format("bulletedlist")});$("#NumberedListButton").click(function(){format("numberedlist")});function c(){if(g_CKShowSource==false){g_CKEditor.setMode("source");g_CKShowSource=true}else{g_CKEditor.setMode("wysiwyg");g_CKShowSource=false}}$("#OpenDocumentButton").click(function(){$("#OpenDocument").click()});$("#cke_editor").css("display","block");$("#navigation").css("display","block");reloadDocumentPanel();initCurrentFontSizeAsynch();initMenu();initPanel();initEditorSettings();updateStatistics()}$(document).ready(function(){var a=WD_loadBackgroundSetting();WL_setEditorBackground(a);$("#cke_editor").css("display","none");$("#editor").ckeditor(function(){ckeditorReady()},g_CKEditorConfig)});function checkIfTextSelected(){var b;var a;if(g_CKEditorIsReady==false){return false}if(g_CKShowSource==true){return false}if(g_CKEditor!=undefined){a=g_CKEditor.getSelection()}if(CKEDITOR.env.ie){a.unlock(true);selectedText=a.getNative().createRange().text}else{if(a!=undefined){b=a.getNative()}}if(b.toString().length>0){return true}else{return false}}function setCurrentDocumentName(a){g_CurrentDocumentName=a}function getCurrentDocumentName(){return g_CurrentDocumentName}function reloadDocumentPanel(){var c=WD_getNumKoiDocuments();var a=0;var d;var b="";$(".docSnippet").remove();for(a=0;a<c;a++){b=WD_getKoiDocumentName(a);d='<li class="docSnippet document hand"><div class="snippetWrapper" id="snippet-'+b+'">                        <button class="open-document" id="'+b+'"></button>'+WD_getKoiDocumentSnippet(a)+"</div></li>";$("#DocumentListing").append(d);if(getCurrentDocumentName()==b){$("#snippet-"+getCurrentDocumentName()).hide()}}$("#snippet-"+getCurrentDocumentName()).fadeIn();$(".open-document").click(function(){var e;var f;f=$(this).attr("id");e=WD_loadDocument(f);if(e!=undefined){setCurrentDocumentName(f);g_CKEditor.setData(e,function(){this.checkDirty()})}})}function saveKoiDocument(){WD_saveCurrentDocument(getCurrentDocumentName(),g_CKEditor.getData());g_CKEditor.fire("saveSnapshot");reloadDocumentPanel()};var g_RibbonNames=[".background",".selected",".font",".paragraph"];var g_IconNames=[".icon-background",".icon-selected",".icon-font",".icon-paragraph"];var g_MenuWDHandle;var g_MenuWDCounter=0;var g_PanelWDHandle;var g_PanelWDCounter=0;var g_TextSelectionState=0;function showOrHideCategories(a){var b=g_RibbonNames.length;for(idx=0;idx<b;idx++){if(g_RibbonNames[idx]==a){$(g_IconNames[idx]).removeClass("inactive");$(g_IconNames[idx]).addClass("active");$(g_RibbonNames[idx]).show()}else{$(g_IconNames[idx]).removeClass("active");$(g_IconNames[idx]).addClass("inactive");$(g_RibbonNames[idx]).hide()}}}$("#logo").click(function(){$(".slogan").toggle()});function openPanel(){$("#panel-closed").hide(),$("#panel-opened").show(),$("#footer").css("height","140px")}function closePanel(){$("#panel-opened").hide(),$("#panel-closed").show();$("#footer").css("height","7px")}function initPanel(){$(".open-panel").click(function(){openPanel()});$(".close-panel").click(function(){closePanel()})}function MenuWatchdog(){g_MenuWDCounter++;if(g_MenuWDCounter>20){doMenuFadeOut()}}function doMenuFadeOut(){$("#menu").fadeOut();disableMenuWatchdog()}function enableMenuWatchdog(){g_MenuWDHandle=setInterval("MenuWatchdog()",1000)}function disableMenuWatchdog(){clearInterval(g_MenuWDHandle);g_MenuWDCounter=0}function initMenu(){$(window).scroll(function(){var a=window.pageYOffset;$("#menu-container").css("top",a-5+"px");doMenuFadeOut()});$("#menu-container").hoverIntent(function(){if(g_TextSelectionState!=1){$("#menu").fadeIn();disableMenuWatchdog()}},function(){if(g_TextSelectionState==0){enableMenuWatchdog()}});$(".icon-background").click(function(){showOrHideCategories(".background")});$(".icon-selected").click(function(){showOrHideCategories(".selected")});$(".icon-font").click(function(){showOrHideCategories(".font")});$(".icon-paragraph").click(function(){showOrHideCategories(".paragraph")});$(".bg-1").click(function(){WL_setEditorBackground(0)});$(".bg-2").click(function(){WL_setEditorBackground(1)});$(".bg-3").click(function(){WL_setEditorBackground(2)});$(".bg-4").click(function(){WL_setEditorBackground(3)});$(".bg-5").click(function(){WL_setEditorBackground(4)});$(".bg-6").click(function(){WL_setEditorBackground(5)});$(".bg-7").click(function(){WL_setEditorBackground(6)});$("#SaveKoiButton").click(function(){saveKoiDocument();openPanel();reloadDocumentPanel()});$("#menu").fadeIn();$(".reiter .icon").hoverIntent(function(){$(this).addClass("active");$(this).removeClass("inactive")},function(){$(this).removeClass("active");$(this).addClass("inactive")});$(".icon-save").hoverIntent(function(){$(this).addClass("active");$(this).removeClass("inactive")},function(){$(this).removeClass("active");$(this).addClass("inactive")});enableMenuWatchdog()}function selectedMenuOpenIfSelected(){if(checkIfTextSelected()==true){if(g_TextSelectionState==0){showOrHideCategories(".selected")}if($("#menu").is(":visible")==false){$("#menu").fadeIn()}disableMenuWatchdog();g_TextSelectionState=1}else{if(g_TextSelectionState==1){g_TextSelectionState=0;enableMenuWatchdog()}}};window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var b=[].slice.call(arguments);(typeof console.log==="object"?log.apply.call(console.log,console,b):console.log.apply(console,b))}};(function(e){function h(){}for(var g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),f;f=g.pop();){e[f]=e[f]||h}})((function(){try{console.log();return window.console}catch(a){return window.console={}}})());